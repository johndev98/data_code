{
    "dictionary_path": "content/dictionary/languages/dart.json",
    "blocks": [
        {
            "type": "heading",
            "value": "Hàm (Functions) trong Dart"
        },
        {
            "type": "text",
            "value": "Hàm là một khối code có thể tái sử dụng để thực hiện một tác vụ cụ thể. Dart hỗ trợ nhiều cách viết hàm, từ đơn giản đến phức tạp."
        },
        {
            "type": "key_concepts",
            "concepts": [
                {
                    "title": "Cú pháp hàm cơ bản",
                    "description": "returnType functionName(parameters) { body }"
                },
                {
                    "title": "Arrow functions",
                    "description": "Dart hỗ trợ arrow syntax => cho hàm một dòng, giúp code ngắn gọn hơn."
                },
                {
                    "title": "Named và Optional parameters",
                    "description": "Dart cho phép đặt tên tham số và làm chúng optional với dấu [] hoặc {}."
                },
                {
                    "title": "Return type",
                    "description": "Nếu hàm không trả về gì, dùng void. Nếu có return, khai báo kiểu dữ liệu trả về."
                }
            ]
        },
        {
            "type": "code",
            "value": "// Hàm cơ bản\nint add(int a, int b) {\n  return a + b;\n}\n\n// Arrow function\nint multiply(int a, int b) => a * b;\n\n// Hàm không trả về\nvoid greet(String name) {\n  print('Hello, $name!');\n}\n\n// Named parameters\nvoid introduce({required String name, int age = 0}) {\n  print('Tôi là $name, $age tuổi');\n}",
            "language": "dart",
            "keywords": [
                "int",
                "void",
                "return",
                "required"
            ]
        },
        {
            "type": "analogy",
            "concept": "Hàm như một công thức nấu ăn",
            "value": "Hàm giống như một công thức nấu ăn: bạn cung cấp nguyên liệu (parameters), thực hiện các bước (function body), và nhận được món ăn (return value). Một khi có công thức, bạn có thể dùng lại nhiều lần."
        },
        {
            "type": "comparison",
            "wrong": "int add(a, b) {\n  return a + b;\n} // Thiếu kiểu dữ liệu",
            "right": "int add(int a, int b) {\n  return a + b;\n} // Đầy đủ kiểu dữ liệu",
            "reason": "Luôn khai báo kiểu dữ liệu cho parameters để code rõ ràng và an toàn hơn. Dart có thể suy luận return type nhưng tốt nhất nên khai báo rõ ràng."
        },
        {
            "type": "step_by_step",
            "title": "Cách viết hàm hiệu quả",
            "steps": [
                "Xác định mục đích của hàm - nó làm gì?",
                "Quyết định parameters cần thiết và kiểu dữ liệu",
                "Xác định return type (void nếu không trả về)",
                "Viết logic bên trong hàm",
                "Test hàm với các giá trị khác nhau",
                "Đặt tên hàm mô tả rõ ràng (verb + noun)"
            ]
        },
        {
            "type": "practice",
            "title": "Bài tập: Viết hàm tính diện tích",
            "description": "Hãy viết một hàm tính diện tích hình chữ nhật. Hàm nhận vào chiều dài và chiều rộng (double), trả về diện tích (double).",
            "code_template": "void main() {\n  // TODO: Viết hàm calculateArea\n  // TODO: Gọi hàm và in kết quả\n}\n\n// Viết hàm ở đây",
            "solution": "void main() {\n  double area = calculateArea(5.0, 3.0);\n  print('Diện tích: $area');\n}\n\ndouble calculateArea(double length, double width) {\n  return length * width;\n}",
            "hint": "Diện tích = chiều dài × chiều rộng. Nhớ khai báo kiểu double cho tất cả."
        },
        {
            "type": "list",
            "items": [
                "Hàm giúp code tái sử dụng và dễ bảo trì",
                "Đặt tên hàm rõ ràng, mô tả đúng chức năng",
                "Luôn khai báo kiểu dữ liệu cho parameters",
                "Dùng arrow function cho hàm đơn giản một dòng",
                "Named parameters giúp code dễ đọc hơn"
            ]
        },
        {
            "type": "checkpoint",
            "question": "Khi nào nên dùng arrow function (=>)?",
            "options": [
                "Khi hàm chỉ có một biểu thức return",
                "Khi hàm có nhiều dòng code",
                "Khi hàm không có parameters",
                "Khi hàm trả về void"
            ],
            "correct_answer": 0,
            "explanation": "Arrow function (=>) chỉ phù hợp cho hàm đơn giản, một dòng, có return value. Với hàm phức tạp hơn, nên dùng cú pháp hàm thông thường với {}."
        },
        {
            "type": "callout",
            "style": "warning",
            "value": "⚠️ Lưu ý: Khi dùng named parameters với {}, bạn phải gọi hàm với tên parameter: introduce(name: 'John', age: 25). Nếu dùng required, parameter đó là bắt buộc."
        },
        {
            "type": "summary",
            "value": "Bạn đã học về hàm trong Dart - cách khai báo, sử dụng arrow function, và named parameters. Hàm là nền tảng quan trọng để viết code có tổ chức và tái sử dụng.",
            "key_points": [
                "Hàm giúp code tái sử dụng và tổ chức tốt",
                "Arrow function (=>) cho hàm một dòng",
                "Named parameters với {} giúp code dễ đọc",
                "Luôn khai báo kiểu dữ liệu rõ ràng",
                "Đặt tên hàm mô tả chức năng"
            ]
        }
    ]
}